apiVersion: v1
kind: ConfigMap
metadata:
  name: gatus-config
  namespace: monitoring
  labels:
    app: gatus-public
    environment: production
data:
  config.yaml: |
    ui:
      title: "DevFactory Service Health"
      header: "DevFactory"
      description: System Monitoring Dashboard
      logo: "https://raw.githubusercontent.com/Pseudo-Lab/DevFactory-Ops/main/infrastructure/assets/pl_symbol.png"
      favicon:
        default: "https://raw.githubusercontent.com/Pseudo-Lab/DevFactory-Ops/main/infrastructure/assets/pl_symbol.png"
        size16x16: "https://raw.githubusercontent.com/Pseudo-Lab/DevFactory-Ops/main/infrastructure/assets/pl_symbol.png"
        size32x32: "https://raw.githubusercontent.com/Pseudo-Lab/DevFactory-Ops/main/infrastructure/assets/pl_symbol.png"
      dashboard-heading: "Service Health Dashboard"
      dashboard-subheading: "Real-time health monitoring for Pseudo-Lab's DevFactory services"
      custom-css: |
        /* Show description in header */
        header .flex.items-center.gap-4 div div:nth-child(2)::after {
            content: "System Monitoring Dashboard";
            display: block;
            font-size: 0.875rem;
            color: #64748b;
            margin-top: -0.25rem;
        }
        /* Replace "Powered by Gatus" with static "Powered by DevFactory" */
        footer div.text-sm.text-center {
            font-size: 0 !important;
        }
        footer div.text-sm.text-center a {
            display: none !important;
        }
        footer div.text-sm.text-center::before {
            content: "Powered by DevFactory" !important;
            font-size: 0.84rem !important;
            color: #64748b !important;
        }
        /* Hide GitHub icon in footer */
        #social {
            display: none !important;
        }
        .dark header img {
            content: url("https://raw.githubusercontent.com/Pseudo-Lab/DevFactory-Ops/main/infrastructure/assets/pl_symbol_white.png");
        }
    alerting:
      discord:
        webhook-url: "${DISCORD_WEBHOOK_URL}"
    endpoints:
      - name: "DevFactory Main Page"
        group: "Services"
        url: "https://www.pseudolab-devfactory.com/"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
      - name: "가짜연구소 수료증 발급 서비스"
        group: "Services"
        url: "https://cert.pseudo-lab.com/"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
      - name: "JobPT - 지능형 취업 지원 서비스"
        group: "Services"
        url: "https://jobpt.pseudolab-devfactory.com/"
        interval: 5m
        conditions:
          - "[STATUS] == 200"
